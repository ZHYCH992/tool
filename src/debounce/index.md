---
category: Components
title: 防抖 debounce # 组件的标题，会在菜单侧边栏展示
toc: content # 在页面右侧展示锚点链接
order: 1
group:
  title: Utils # 所在分组的名称
  order: 1 # 分组排序，值越小越靠前
---

## 何时使用

> 一定时间内，只执行最后一次操作，再过 `wait` 毫秒后才执行，如果在时间内再次触发，则重新计时至 `wait` 毫秒后执行。
>
> 1.  搜索框输入（keyup、input）：当用户在搜索框中连续输入时，每次输入都会触发搜索请求。防抖函数确保只有在用户停止输入一段时间（如 500 毫秒）后才发送实际的搜索请求，有效减轻了服务器压力并避免了不必要的结果刷新。
> 2.  表单提交（submit）：对于有复杂验证逻辑的表单，用户可能在短时间内多次尝试提交。防抖函数可以确保即使用户快速点击提交按钮，也只会向服务器发送一次有效的提交请求。
> 3.  窗口加载完成（load）：网页资源加载完毕后可能触发一系列初始化操作。使用防抖函数可以确保在所有资源真正加载完成后一次性执行所有初始化逻辑，避免因资源加载顺序或速度差异导致的重复或遗漏。
> 4.  用户登录/注册：在登录或注册表单中，用户可能在短时间内反复尝试不同的用户名或密码组合。防抖函数可以限制短时间内对同一账号的登录或注册请求次数，保护服务器免受恶意攻击，同时提升用户体验。
> 5.  服务端实时数据推送（WebSocket 或长轮询）：客户端接收到实时更新时，可能需要立即更新界面。然而，短时间内连续收到多个更新可能导致界面频繁闪烁。使用防抖函数来处理数据更新，可以合并相邻的更新操作，仅在最后一条消息到达后的一段时间内执行界面更新，从而提供平滑的用户体验。

## 代码演示

<code src="./demo/index.jsx"></code>

## 浏览器环境

```js
debounce({ fn: () => console.log('test'), wait: delay });
```

## API

| 名称 | 类型     | 默认值 | 说明     |
| ---- | -------- | ------ | -------- |
| wait | number   | 1000   | 延迟时间 |
| fn   | function | -      | 函数     |
